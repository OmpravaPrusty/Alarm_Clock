<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alarm Clock App</title>
    <style type="text/css">
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: Arial, sans-serif;
      }

      body {
        background: linear-gradient(135deg, #ff4b1f, #1fddff);
        /* Gradient Background */
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        overflow: hidden;
      }

      /* Container Styling */
      .container {
        background-color: rgba(0, 0, 0, 0.7);
        padding: 40px;
        border-radius: 20px;
        text-align: center;
        box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.3);
        color: white;
      }

      /* Current Time Display */
      .time-display h2 {
        font-size: 60px;
        margin-bottom: 20px;
        font-weight: bold;
        letter-spacing: 3px;
        text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.4);
      }

      /* Alarm Setter Section */
      .alarm-setter input {
        font-size: 20px;
        padding: 10px;
        width: 150px;
        border-radius: 10px;
        border: none;
        margin-bottom: 20px;
      }

      .alarm-setter button {
        padding: 10px 30px;
        background-color: #ff4b1f;
        color: white;
        font-size: 18px;
        border: none;
        border-radius: 30px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .alarm-setter button:hover {
        background-color: #1fddff;
      }

      /* Alarm Status Section */
      .alarm-status {
        margin-top: 20px;
      }

      .alarm-status p {
        font-size: 22px;
        font-weight: bold;
        color: #f1f1f1;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h1>Alarm Clock</h1>

      <!-- Current Time Display -->
      <div class="time-display">
        <h2 id="current-time">00:00:00</h2>
      </div>

      <!-- Set Alarm Time -->
      <div class="alarm-setter">
        <input type="time" id="alarm-time" />
        <button id="set-alarm-btn" class="btn">Set Alarm</button>
      </div>

      <!-- Alarm Status -->
      <div class="alarm-status">
        <p id="alarm-status-text">No alarm set</p>
      </div>

      <!-- Alarm Sound -->
      <audio id="alarm-sound" src="iphone_alarm.mp3" type="audio/mp3"></audio>
    </div>

    <script>
      // Variables
      let currentTimeDisplay = document.getElementById("current-time");
      let alarmTimeInput = document.getElementById("alarm-time");
      let setAlarmBtn = document.getElementById("set-alarm-btn");
      let alarmStatusText = document.getElementById("alarm-status-text");
      let alarmSound = document.getElementById("alarm-sound");

      let alarmTime = null; // Store alarm time
      let alarmActive = false;

      // Function to update current time every second
      function updateCurrentTime() {
        let now = new Date();
        let hours = now.getHours().toString().padStart(2, "0");
        let minutes = now.getMinutes().toString().padStart(2, "0");
        let seconds = now.getSeconds().toString().padStart(2, "0");

        currentTimeDisplay.textContent = `${hours}:${minutes}:${seconds}`;
      }

      // Function to set the alarm time
      setAlarmBtn.addEventListener("click", () => {
        let alarmTimeInputValue = alarmTimeInput.value;
        if (alarmTimeInputValue) {
          alarmTime = alarmTimeInputValue;
          alarmActive = true;
          alarmStatusText.textContent = `Alarm set for: ${alarmTime}`;
        } else {
          alarmStatusText.textContent = "Please set a valid alarm time!";
        }
      });

      // Function to check if current time matches alarm time
      function checkAlarm() {
        if (
          alarmActive &&
          currentTimeDisplay.textContent === alarmTime + ":00"
        ) {
          alarmSound.play();
          alarmActive = false; // Disable alarm after it goes off
          alarmStatusText.textContent = "ALARM! Time to wake up!";
          setTimeout(() => {
            alarmSound.pause();
            alarmSound.currentTime = 0;
          }, 15000); // Stop the sound after 5 seconds
        }
      }

      // Update current time and check alarm every second
      setInterval(() => {
        updateCurrentTime();
        checkAlarm();
      }, 1000);
    </script>
  </body>
</html>
